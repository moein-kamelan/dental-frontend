<!doctype html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Critical: Preload primary font for FCP -->
    <link rel="preload" href="/fonts/Estedad-Medium.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/Estedad-SemiBold.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Preconnect to API for faster data fetching -->
    <link rel="preconnect" href="https://tahadental.com" crossorigin />
    <link rel="dns-prefetch" href="https://tahadental.com" />
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    
    <!-- Default SEO Meta Tags -->
    <meta name="description" content="کلینیک دندان پزشکی طاها ارائه دهنده بهترین خدمات دندانپزشکی با کادری مجرب و تجهیزات مدرن" />
    <meta name="keywords" content="دندانپزشکی, کلینیک دندانپزشکی, دندانپزشک, خدمات دندانپزشکی, ایمپلنت, ارتودنسی, زیبایی دندان" />
    <meta name="author" content="کلینیک دندان پزشکی طاها" />
    <meta name="theme-color" content="#ffffff" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="کلینیک دندان پزشکی طاها" />
    <meta property="og:locale" content="fa_IR" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    
    <title>کلینیک دندان پزشکی طاها - بهترین خدمات دندانپزشکی</title>
    
    <!-- Critical CSS for above-the-fold content (inline for FCP) -->
    <style>
      /* Critical font-face for immediate text rendering */
      @font-face {
        font-family: "estedad-medium";
        src: url(/fonts/Estedad-Medium.woff2) format('woff2');
        font-display: swap;
      }
      @font-face {
        font-family: "estedad-semibold";
        src: url(/fonts/Estedad-SemiBold.woff2) format('woff2');
        font-display: swap;
      }
      /* Prevent layout shift during load */
      :root { direction: rtl; }
      body { 
        margin: 0; 
        font-family: "estedad-medium", system-ui, sans-serif;
        background: #fff;
      }
      #root { min-height: 100vh; }
      /* Above-the-fold skeleton */
      .initial-loader {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      .nav-skeleton {
        height: 76px;
        background: #fff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }
      .hero-skeleton {
        flex: 1;
        background: linear-gradient(135deg, rgba(45,212,191,0.1) 0%, rgba(45,212,191,0.05) 50%, rgba(99,102,241,0.15) 100%);
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
    
    <!-- Defer Google Analytics (non-blocking) -->
    <script>
      // Load GA after page is interactive
      window.addEventListener('load', function() {
        setTimeout(function() {
          var s = document.createElement('script');
          s.async = true;
          s.src = 'https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX';
          document.head.appendChild(s);
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          window.gtag = gtag;
          gtag('js', new Date());
          gtag('config', 'G-XXXXXXXXXX', { send_page_view: true });
        }, 2000);
      });
    </script>
  </head>
  <body class="text-dark scroll-smooth">
    <div id="root">
      <!-- Server-rendered skeleton for instant FCP -->
      <div class="initial-loader" id="initial-skeleton">
        <div class="nav-skeleton"></div>
        <div class="hero-skeleton">
          <noscript>برای استفاده از این سایت، جاوااسکریپت را فعال کنید.</noscript>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Defer Goftino Chat Widget (load after interaction) -->
    <script>
      // Load Goftino only after user interaction or 5 seconds
      function loadGoftino() {
        if (window.goftinoLoaded) return;
        window.goftinoLoaded = true;
        var i="azYBvB",d=document;
        var g=d.createElement("script"),s="https://www.goftino.com/widget/"+i,l=localStorage.getItem("goftino_"+i);
        g.async=true;g.src=l?s+"?o="+l:s;
        d.body.appendChild(g);
      }
      // Load on scroll, click, or after 5 seconds
      ['scroll','click','touchstart'].forEach(function(e){
        document.addEventListener(e, loadGoftino, {once:true,passive:true});
      });
      setTimeout(loadGoftino, 5000);
    </script>
  </body>
</html>
